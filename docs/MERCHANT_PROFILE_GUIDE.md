# ๐ ุฏููู ููู ุงููุชุฌุฑ ููุชุงุฌุฑ
# Merchant Profile Guide

## ๐ฏ ุงูุบุฑุถ ูู ูุฐุง ุงูุฏููู

ูุฐุง ุงูุฏููู ูุดุฑุญ ููู ูุนูู **ููู ุงููุชุฌุฑ** (Merchant Profile) ูููู ูุชู ุฅุฏุงุฑุฉ ุจูุงูุงุช ุงููุชุฌุฑ.

---

## ๐ ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ ูู ููู ุงููุชุฌุฑ

### 1. **ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ**

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ        ๐ช ุฃููููุฉ ุงููุชุฌุฑ       โ
โ         ุงุณู ุงููุชุฌุฑ            โ
โ    โญโญโญโญโญ (4.5)           โ
โ     (ุนุฏุฏ ุงูุชููููุงุช)           โ
โ    [ ๐ข ูุชุฌุฑ ููุชูุญ ]          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

- **ุงุณู ุงููุชุฌุฑ**: ููุฌูุจ ูู `merchants.name_ar`
- **ุงูุชูููู**: ููุญุณุจ ูู ุฌุฏูู `reviews`
- **ุญุงูุฉ ุงููุชุฌุฑ**: ูููู ุงูุชุจุฏูู ุจูู "ููุชูุญ/ูุบูู"

---

### 2. **ุงูุฅุญุตุงุฆูุงุช ุงูุฑุฆูุณูุฉ**

```
โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
โ   30 ุฏูููุฉ      โ  โ  50.00 ุฌููู    โ
โ ูุชูุณุท ููุช      โ  โ  ุงูุญุฏ ุงูุฃุฏูู   โ
โ   ุงูุชูุตูู       โ  โ   ููุทูุจ        โ
โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
```

#### **ุฃ. ูุชูุณุท ููุช ุงูุชูุตูู** (`avg_delivery_time`)
- **ุงููุตุฏุฑ**: ุฌุฏูู `merchants` โ ุนููุฏ `avg_delivery_time`
- **ูู ูุญุฏุฏู**: ุงูุชุงุฌุฑ
- **ุงูุบุฑุถ**: ูุนุทู ุงูุนููู ุชูุฏูุฑุงู ูููุช ุงูุงูุชุธุงุฑ
- **ููุน ุงูุจูุงูุงุช**: ุฑูู ุจุงูุฏูุงุฆู (ูุซูุงู: 30ุ 45ุ 60)
- **ูุงุจู ููุชุนุฏูู**: โ ูุนู

#### **ุจ. ุงูุญุฏ ุงูุฃุฏูู ููุทูุจ** (`min_order_amount`)
- **ุงููุตุฏุฑ**: ุฌุฏูู `merchants` โ ุนููุฏ `min_order_amount`
- **ูู ูุญุฏุฏู**: ุงูุชุงุฌุฑ
- **ุงูุบุฑุถ**: ูุง ูููู ููุนููู ุงูุทูุจ ุฅูุง ุฅุฐุง ูุตู ุงููุจูุบ ููุญุฏ ุงูุฃุฏูู
- **ููุน ุงูุจูุงูุงุช**: ุฑูู ุนุดุฑู (ูุซูุงู: 0.00ุ 50.00ุ 100.00)
- **ูุงุจู ููุชุนุฏูู**: โ ูุนู
- **ููุงุญุธุฉ**: ุฅุฐุง ูุงู 0ุ ูุนูุงู ูุง ููุฌุฏ ุญุฏ ุฃุฏูู

---

### 3. **ูุนูููุงุช ุงููุชุฌุฑ** (ุงููุณู ุงููุงุจู ููุชุนุฏูู)

#### **ุฃ. ุงููุฆุฉ** (`category`)

**ูู ุฃูู ุชูุฌูุจุ**
```typescript
// ุฌุฏูู merchants โ ุนููุฏ category
category: 'grocery' | 'restaurant' | 'pharmacy' | 'other'
```

**ุงููุฆุงุช ุงููุชุงุญุฉ:**
- `grocery` โ ุจูุงูุฉ
- `restaurant` โ ูุทุนู
- `pharmacy` โ ุตูุฏููุฉ
- `other` โ ุฃุฎุฑู

**ูู ูุญุฏุฏูุงุ**
- ูุชู ุชุญุฏูุฏูุง ุนูุฏ **ุฅูุดุงุก ุงููุชุฌุฑ ูุฃูู ูุฑุฉ**
- ูู ุดุงุดุฉ `auth/setup-merchant.tsx`

**ูู ูููู ุชุนุฏูููุงุ**
- โ ุญุงููุงู ูุง (ูููุฑุงุกุฉ ููุท)
- โ ูููู ุฅุถุงูุฉ ูุฐู ุงูููุฒุฉ ูุณุชูุจูุงู ุฅุฐุง ุงุญุชุงุฌูุง ุงูุชุงุฌุฑ

**ุงูุบุฑุถ ูููุง:**
- ุชุตููู ุงููุชุฌุฑ ูู ุงูุชุทุจูู
- ุชุตููุฉ ุงููุชุงุฌุฑ ุญุณุจ ุงูููุน
- ุนุฑุถ ุฃููููุฉ ููุงุณุจุฉ

---

#### **ุจ. ุฑุณูู ุงูุชูุตูู** (`delivery_fee`)

**ูู ุฃูู ุชูุฌูุจุ**
```typescript
// ุฌุฏูู merchants โ ุนููุฏ delivery_fee
delivery_fee: number  // ูุซูุงู: 0.00, 5.00, 10.00
```

**ูู ูุญุฏุฏูุงุ**
- โ **ุงูุชุงุฌุฑ** ูู ูู ูุญุฏุฏูุง ุจุงููุงูู
- โ ููุณ ุงูุณุงุฆู

**ุนูู ุฃู ุฃุณุงุณ ูุชู ุชุญุฏูุฏูุงุ**

ุงูุชุงุฌุฑ ููุฑุฑ ุจูุงุกู ุนูู:

1. **ุงููุณุงูุฉ ูู ุงููุชุฌุฑ**
   - ูุชุฌุฑ ูู ูุณุท ุงููุฏููุฉ โ ุฑุณูู ุฃูู
   - ูุชุฌุฑ ุจุนูุฏ โ ุฑุณูู ุฃุนูู

2. **ุชูููุฉ ุงูุชูุตูู**
   - ุฅุฐุง ูุงู ุงูุชุงุฌุฑ ููุธู ุณุงุฆููู โ ูุญุณุจ ุชูููุชูู
   - ุฅุฐุง ูุงู ูุณุชุฎุฏู ุชุทุจูู ุชูุตูู ุฎุงุฑุฌู โ ูุญุณุจ ุฑุณูููู

3. **ุงุณุชุฑุงุชูุฌูุฉ ุงูุชุณููู**
   - ุจุนุถ ุงูุชุฌุงุฑ ูุฌุนููููุง **0 ุฌููู** (ุชูุตูู ูุฌุงูู) ูุฌุฐุจ ุงูุนููุงุก
   - ุงูุจุนุถ ูุฌุนููุง **5-10 ุฌููู** ูุชุบุทูุฉ ุงูุชูุงููู
   - ุงูุจุนุถ ูุฌุนููุง **ูุฑุชูุนุฉ** ูุทูุจุงุช ุตุบูุฑุฉ ูุชุดุฌูุน ุทูุจุงุช ุฃูุจุฑ

4. **ุงูููุงูุณุฉ**
   - ุฅุฐุง ูุงูุช ุงูููุงูุณุฉ ุนุงููุฉ โ ุฑุณูู ุฃูู
   - ุฅุฐุง ูุงู ุงููุชุฌุฑ ูุฑูุฏ โ ุฑุณูู ุญุณุจ ุงูุฑุบุจุฉ

**ูู ูููู ุชุนุฏูููุงุ**
- โ ูุนูุ ูู ุฃู ููุช
- ูุถุบุท ุงูุชุงุฌุฑ ุนูู ุฒุฑ "ุชุนุฏูู"
- ูุฏุฎู ุงูุฑุณูู ุงูุฌุฏูุฏุฉ
- ูุถุบุท "ุญูุธ ุงูุชุนุฏููุงุช"

**ุงูุบุฑุถ ูููุง:**
- ุชูุถุงู ุฅูู **ุฅุฌูุงูู ุงูุทูุจ** ุนูุฏ ุงูุฏูุน
- ุงูุนููู ูุฑู: `ุงูููุชุฌุงุช + ุฑุณูู ุงูุชูุตูู = ุงูุฅุฌูุงูู`

**ูุซุงู:**
```
ููุชุฌุงุช: 100 ุฌููู
ุฑุณูู ุงูุชูุตูู: 10 ุฌููู
โโโโโโโโโโโโโโโโโโโโโ
ุงูุฅุฌูุงูู: 110 ุฌููู
```

---

#### **ุฌ. ุงููุตู** (`description_ar`)

**ูู ุฃูู ููุฌูุจุ**
```typescript
// ุฌุฏูู merchants โ ุนููุฏ description_ar
description_ar: string  // ูุซูุงู: "ูุฑุญุจุงู ุจู ูู ูุชุฌุฑูุง"
```

**ูู ูุญุฏุฏูุ**
- โ **ุงูุชุงุฌุฑ** ููุชุจู ุจููุณู

**ุงูุบุฑุถ ููู:**
- ูุธูุฑ ูู ููู ุงููุชุฌุฑ ููุนููุงุก
- ูุนุทู ูุตูุงู ูุตูุฑุงู ุนู ุงููุชุฌุฑ
- ูุณุงุนุฏ ูู ุฌุฐุจ ุงูุนููุงุก

**ูู ูููู ุชุนุฏูููุ**
- โ ูุนูุ ูู ุฃู ููุช
- ูุถุบุท ุงูุชุงุฌุฑ ุนูู ุฒุฑ "ุชุนุฏูู"
- ููุชุจ ุงููุตู ุงูุฌุฏูุฏ
- ูุถุบุท "ุญูุธ ุงูุชุนุฏููุงุช"

**ุฃูุซูุฉ ุนูู ุงููุตู:**
- "ุฃูุถู ุจูุงูุฉ ูู ุงูุญูุ ููุชุฌุงุช ุทุงุฒุฌุฉ ููููุงู"
- "ูุทุนู ุดุฑูู ุฃุตููุ ููุฏู ุฃุดูู ุงูุฃุทุจุงู"
- "ุตูุฏููุฉ ูุชูุงููุฉ ูุน ุฃุฏููุฉ ููุณุชูุฒูุงุช ุทุจูุฉ"

---

## ๐ ููู ูุชู ุญูุธ ุงูุจูุงูุงุชุ

### ุชุฏูู ุงูุจูุงูุงุช (Data Flow):

```
1. ุงูุชุงุฌุฑ ูุถุบุท "ุชุนุฏูู"
   โ
2. ููุฏุฎู ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ:
   - ุฑุณูู ุงูุชูุตูู
   - ุงูุญุฏ ุงูุฃุฏูู
   - ูุชูุณุท ููุช ุงูุชูุตูู
   - ุงููุตู
   โ
3. ูุถุบุท "ุญูุธ ุงูุชุนุฏููุงุช"
   โ
4. ุงูููุฏ ูููุฐ:
   await supabase
     .from('merchants')
     .update({
       delivery_fee: deliveryFee,
       min_order_amount: minOrder,
       avg_delivery_time: avgTime,
       description_ar: localDescription
     })
     .eq('id', merchantProfile.id)
   โ
5. ุงูุจูุงูุงุช ุชูุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
   โ
6. ุชุธูุฑ ุฑุณุงูุฉ "ุชู ุญูุธ ุงูุชุนุฏููุงุช ุจูุฌุงุญ"
```

---

## ๐จ ุฅุตูุงุญ ุญุฌู ุญููู ุงูุฅุฏุฎุงู

### ุงููุดููุฉ ุงูุณุงุจูุฉ:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                               โ  โ ุญูู ูุจูุฑ ุฌุฏุงู
โ                               โ
โ              30               โ
โ                               โ
โ                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุงูุญู ุงูููุทุจููู:
```typescript
statInput: {
  minHeight: 40,        // โ ุงุฑุชูุงุน ูุนููู
  width: '80%',         // โ ุนุฑุถ ูุณุจู
  textAlign: 'center',  // โ ูุต ูู ุงูููุชุตู
  paddingVertical: spacing.xs,  // โ ูุณุงูุงุช ุตุบูุฑุฉ
}
```

### ุงููุชูุฌุฉ ุงููุชููุนุฉ:
```
โโโโโโโโโโโโโโโโ
โ      30      โ  โ ุญูู ุจุญุฌู ููุงุณุจ
โโโโโโโโโโโโโโโโ
ูุชูุณุท ููุช ุงูุชูุตูู (ุฏูููุฉ)
```

---

## ๐ ุฌุฏูู ููุฎุต ุงูุจูุงูุงุช

| ุงูุจูุงู | ุงููุตุฏุฑ | ูู ูุญุฏุฏู | ูุงุจู ููุชุนุฏูู | ุงูุบุฑุถ |
|--------|---------|----------|--------------|-------|
| **ุงุณู ุงููุชุฌุฑ** | `merchants.name_ar` | ุงูุชุงุฌุฑ ุนูุฏ ุงูุฅูุดุงุก | โ ูุง | ุงุณู ุงููุชุฌุฑ ุงูุธุงูุฑ |
| **ุงููุฆุฉ** | `merchants.category` | ุงูุชุงุฌุฑ ุนูุฏ ุงูุฅูุดุงุก | โ ูุง | ุชุตููู ุงููุชุฌุฑ |
| **ุฑุณูู ุงูุชูุตูู** | `merchants.delivery_fee` | ุงูุชุงุฌุฑ | โ ูุนู | ุชูุถุงู ููุทูุจ |
| **ุงูุญุฏ ุงูุฃุฏูู** | `merchants.min_order_amount` | ุงูุชุงุฌุฑ | โ ูุนู | ุดุฑุท ุงูุทูุจ |
| **ูุชูุณุท ุงูููุช** | `merchants.avg_delivery_time` | ุงูุชุงุฌุฑ | โ ูุนู | ุชูุฏูุฑ ููุนููู |
| **ุงููุตู** | `merchants.description_ar` | ุงูุชุงุฌุฑ | โ ูุนู | ูุตู ุงููุชุฌุฑ |
| **ุงูุชูููู** | ูุญุณูุจ ูู `reviews` | ุงูุนููุงุก | โ ูุง | ุฌูุฏุฉ ุงูุฎุฏูุฉ |
| **ุงูุญุงูุฉ** | `merchants.is_open` | ุงูุชุงุฌุฑ | โ ูุนู | ููุชูุญ/ูุบูู |

---

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุจููุฉ ุฌุฏูู `merchants`:

```sql
CREATE TABLE merchants (
  id UUID PRIMARY KEY,
  owner_id UUID REFERENCES profiles(id),
  name_ar TEXT NOT NULL,
  description_ar TEXT,
  category TEXT CHECK (category IN ('grocery', 'restaurant', 'pharmacy', 'other')),
  
  -- ุงูุจูุงูุงุช ุงููุงุจูุฉ ููุชุนุฏูู
  delivery_fee NUMERIC DEFAULT 0,
  min_order_amount NUMERIC DEFAULT 0,
  avg_delivery_time INTEGER DEFAULT 30,
  
  -- ุงูุจูุงูุงุช ุงููุญุณูุจุฉ
  rating NUMERIC DEFAULT 0,
  total_reviews INTEGER DEFAULT 0,
  
  -- ุงูุญุงูุฉ
  is_open BOOLEAN DEFAULT true,
  is_active BOOLEAN DEFAULT true,
  
  -- ุงูุนููุงู
  address TEXT,
  latitude NUMERIC,
  longitude NUMERIC,
  
  -- ุงูุชูุงุฑูุฎ
  created_at TIMESTAMP DEFAULT now(),
  updated_at TIMESTAMP DEFAULT now()
);
```

---

## ๐ฏ ุฃุณุฆูุฉ ุดุงุฆุนุฉ (FAQ)

### ุณ1: ูู ูููู ุฃู ูููู ูุฏู ุฃูุซุฑ ูู ูุชุฌุฑุ
โ **ูุนู!** ุงูุชุงุฌุฑ ููููู ุฅูุดุงุก ูุชุงุฌุฑ ูุชุนุฏุฏุฉุ ูููู ูุชุฌุฑ:
- ุงุณู ูุฎุชูู
- ุฑุณูู ุชูุตูู ูุฎุชููุฉ
- ุญุฏ ุฃุฏูู ูุฎุชูู
- ูุฆุฉ ูุฎุชููุฉ

### ุณ2: ูู ูุฌุจ ุฃู ุชููู ุฑุณูู ุงูุชูุตูู ููุณูุง ูุฌููุน ุงูุนููุงุกุ
โ **ุญุงููุงู ูุนู** - ููุณ ุงูุฑุณูู ูุฌููุน ุงูุนููุงุก

๐ก **ูุณุชูุจูุงู ูููู**:
- ุฑุณูู ูุฎุชููุฉ ุญุณุจ ุงููุณุงูุฉ
- ุฑุณูู ูุฎุชููุฉ ุญุณุจ ูููุฉ ุงูุทูุจ
- ุชูุตูู ูุฌุงูู ููุทูุจุงุช ุงููุจูุฑุฉ

### ุณ3: ูุงุฐุง ูู ุฃุฑุฏุช ุชูุตูู ูุฌุงููุ
โ **ุถุน ุฑุณูู ุงูุชูุตูู = 0**

### ุณ4: ูู ูููู ููุณุงุฆู ุชุบููุฑ ุฑุณูู ุงูุชูุตููุ
โ **ูุง** - ุงูุณุงุฆู ูุง ูุณุชุทูุน ุชุบููุฑ ุฃู ุดูุก
โ ููุท ุงูุชุงุฌุฑ ูู ูู ูุชุญูู ูู ุฑุณูู ุงูุชูุตูู

### ุณ5: ููู ุฃุญุณุจ ุฑุณูู ุงูุชูุตูู ุงูููุงุณุจุฉุ
๐ **ูุตุงุฆุญ**:
```
ุฅุฐุง ูุงู ุงูุทูุจ ุงููุชูุณุท: 100 ุฌููู
ุงุฌุนู ุฑุณูู ุงูุชูุตูู: 5-10% = 5-10 ุฌููู

ุฅุฐุง ููุช ุชุฑูุฏ ุชูุตูู ูุฌุงูู:
ุงุฌุนู ุงูุญุฏ ุงูุฃุฏูู: 150-200 ุฌููู
ูุฑุณูู ุงูุชูุตูู: 0 ุฌููู
```

---

## ๐ ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ ุงูููุชุฑุญุฉ

### 1. ุชุนุฏูู ุงููุฆุฉ
```typescript
// ุฅุถุงูุฉ ุฅููุงููุฉ ุชุบููุฑ ุงููุฆุฉ
<Picker
  selectedValue={category}
  onValueChange={setCategory}
>
  <Picker.Item label="ุจูุงูุฉ" value="grocery" />
  <Picker.Item label="ูุทุนู" value="restaurant" />
  ...
</Picker>
```

### 2. ุฑุณูู ุชูุตูู ุญุณุจ ุงููุณุงูุฉ
```typescript
// ุญุณุงุจ ุฏููุงูููู
const calculateDeliveryFee = (distance: number) => {
  if (distance < 5) return 5;
  if (distance < 10) return 10;
  return 15;
};
```

### 3. ุนุฑูุถ ุฎุงุตุฉ
```typescript
// ุชูุตูู ูุฌุงูู ูุทูุจุงุช ููู ูุจูุบ ูุนูู
if (orderTotal > 200) {
  deliveryFee = 0;
}
```

---

## ๐ ููุฎุต

### โ ูุง ูุฌุจ ุฃู ุชุนุฑูู:

1. **ุฑุณูู ุงูุชูุตูู**:
   - ูุญุฏุฏูุง ุงูุชุงุฌุฑ ุจููุณู
   - ูููู ุชุนุฏูููุง ูู ุฃู ููุช
   - ุชูุถุงู ุฅูู ุฅุฌูุงูู ุงูุทูุจ

2. **ุงููุฆุฉ ูุงููุตู**:
   - ููุฌูุจุงู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - ุงููุฆุฉ: ุชูุญุฏุฏ ุนูุฏ ุงูุฅูุดุงุก
   - ุงููุตู: ูููู ุชุนุฏููู ูุชู ุดุฆุช

3. **ุญุฌู ุญููู ุงูุฅุฏุฎุงู**:
   - ุชู ุฅุตูุงุญูุง ูุชููู ุจุญุฌู ููุงุณุจ
   - ุงูุขู ุฃูุซุฑ ุณูููุฉ ูู ุงูุงุณุชุฎุฏุงู

---

**ูุฃู ุฃุณุฆูุฉ ุฃู ุงูุชุฑุงุญุงุชุ ูุฑุฌู ุงูุชูุงุตู!** ๐ฌ
