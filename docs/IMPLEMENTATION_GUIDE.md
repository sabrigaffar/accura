# ๐ ุฏููู ุงูุชุทุจูู - ุงูุฎุทูุงุช ุงูููุงุฆูุฉ

ุชุงุฑูุฎ: 2025-10-28

---

## โ **ูุง ุชู ุฅูุฌุงุฒู ูู ูุฐู ุงูุฌูุณุฉ:**

### **1. ูุธุงู ุฑูุน ุงูุตูุฑ** ๐ผ๏ธ
- โ ุฑูุน ุตูุฑ ุงูููุชุฌุงุช (ArrayBuffer ุจุฏูุงู ูู Blob)
- โ ุฑูุน ุดุนุงุฑ ูุบูุงู ุงููุชุฌุฑ (Logo + Banner)
- โ ุนุฑุถ ุงูุตูุฑ ูู ูุณู ุงูุนููู

### **2. ุฅุตูุงุญ ุนุฑุถ ุงูููุชุฌุงุช** ๐๏ธ
- โ ุชุตุญูุญ ุฃุณูุงุก ุงูุฌุฏุงูู (products ุจุฏูุงู ูู merchant_products)
- โ ุชุตุญูุญ ุฃุณูุงุก ุงูุญููู (name, is_active, ุฅูุฎ)
- โ ุฏุนู ุงูุฃุณุนุงุฑ ุงููุฎูุถุฉ

### **3. ุฅุตูุงุญ ูุธุงู ุงูุทูุจุงุช** ๐ฆ
- โ ุชุตุญูุญ ุญููู order_items
- โ ุฅุตูุงุญ Foreign Keys
- โ ุฅุตูุงุญ ุฏุงูุฉ notify_available_drivers
- โ ุงูุชุญูู ูู ุงููููุฉ ุงููุชุงุญุฉ

### **4. ุฏุนู ุงููุชุงุฌุฑ ุงููุชุนุฏุฏุฉ** ๐ช
- โ ุฅุถุงูุฉ store_id ูุฌุฏูู products
- โ ูู ูุชุฌุฑ ูุนุฑุถ ููุชุฌุงุชู ููุท

### **5. ูุธุงู ุฑุณูู ุงูุชูุตูู** ๐ฐ
- โ ุญุณุงุจ ุจุงููุณุงูุฉ ููุท (10 ุฌููู/ูู)
- โ ุฏูุงู ูุญุณุงุจ ุฃุฑุจุงุญ ุงูุณุงุฆู (80%)
- โ ุฏูุงู ูุญุณุงุจ ุฃุฑุจุงุญ ุงูููุตุฉ (20%)

### **6. ูุธุงู ุงูุนููุงุช** ๐ฑ
- โ Hook ูุดุชุฑู (useCurrency)
- โ ุฏุนู 5 ุนููุงุช (ุฑูุงูุ ุฌูููุ ุฏุฑููุ ุฏููุงุฑุ ููุฑู)

---

## ๐ฏ **ุงูุฎุทูุงุช ุงููุทููุจุฉ ููุชุทุจูู:**

### **ุงููุฑุญูุฉ 1: ูุงุนุฏุฉ ุงูุจูุงูุงุช (SQL Migrations)** ๐

ุดุบูู ูุฐู ุงููููุงุช ุจุงูุชุฑุชูุจ ูู **Supabase SQL Editor:**

#### **1. ุฅุตูุงุญ ุงูููุชุฌุงุช ูุงููุชุงุฌุฑ:**
```sql
-- ุงูููู: fix_products_store_association.sql
-- ูุถูู store_id ูุฌุฏูู products
-- ูุฑุจุท ูู ููุชุฌ ุจูุชุฌุฑู ุงูุตุญูุญ
```

#### **2. ุฅุตูุงุญ order_items:**
```sql
-- ุงูููู: fix_order_items_schema.sql
-- ููุญุฏ ุฃุณูุงุก ุงูุญููู
-- ูุญุฐู ุงูุญููู ุงูููุฑุฑุฉ
```

#### **3. ุฅุตูุงุญ Foreign Keys:**
```sql
-- ุงูููู: fix_order_items_foreign_key.sql
-- ูุตุญุญ ุงููุฑุฌุน ูู merchant_products ุฅูู products
```

#### **4. ุฅุตูุงุญ ุฏุงูุฉ notify_available_drivers:**
```sql
-- ุงูููู: fix_notify_drivers_function.sql
-- ูุถูู JOIN ูุน profiles ููุญุตูู ุนูู full_name
```

#### **5. ุฑุณูู ุงูุชูุตูู ุจุงููุณุงูุฉ:**
```sql
-- ุงูููู: enforce_distance_based_delivery.sql
-- ุฏูุงู ุญุณุงุจ ุงููุณุงูุฉ ูุงูุฑุณูู
-- ุฏูุงู ุญุณุงุจ ุฃุฑุจุงุญ ุงูุณุงุฆู ูุงูููุตุฉ
```

#### **6. ุตูุฑ ุงููุชุงุฌุฑ:**
```sql
-- ุงูููู: add_merchant_images.sql
-- ูุถูู logo_url ู banner_url ูุฌุฏูู merchants
```

---

### **ุงููุฑุญูุฉ 2: ุชุญุฏูุซ ุงูููุฏ (ุงุฎุชูุงุฑู)** ๐ป

#### **ูุชุทุจูู ูุธุงู ุงูุนููุฉ ุงูููุญุฏ:**

ุงุณุชุจุฏู ุฌููุน ุงุณุชุฎุฏุงูุงุช "ุฑูุงู" ุจู `formatCurrency()`:

**ูุซุงู:**
```typescript
// โ ูุจู:
<Text>{item.price} ุฑูุงู</Text>

// โ ุจุนุฏ:
import { formatCurrency } from '@/constants/currencies';
import { useCurrency } from '@/hooks/useCurrency';

const { currency } = useCurrency();
<Text>{formatCurrency(item.price, currency)}</Text>
```

**ุงููููุงุช ุงูุชู ุชุญุชุงุฌ ุชุญุฏูุซ:**
- `app/merchant/[id].tsx`
- `app/checkout.tsx`
- `app/order/[id].tsx`
- `app/cart.tsx`
- `app/(tabs)/merchants.tsx`
- `app/(merchant-tabs)/*.tsx`

---

## ๐ **ุงูุฅุนุฏุงุฏุงุช ุงููุทููุจุฉ:**

### **1. Supabase Storage**

ุชุฃูุฏ ูู ูุฌูุฏ Bucket:
```
Bucket Name: product-images
Type: Public
```

**Policies:**
- โ Public Access (SELECT)
- โ Authenticated Upload (INSERT)
- โ Owner Delete (DELETE)

---

### **2. ูุงุนุฏุฉ ุงูุจูุงูุงุช**

ุชุฃูุฏ ูู ุชุดุบูู ุฌููุน Migrations ุฃุนูุงู โ

---

## ๐งช **ุงูุงุฎุชุจุงุฑ:**

### **ุณููุงุฑูู ูุงูู:**

#### **ูุชุงุฌุฑ:**
1. โ ุงูุชุญ ุงูุชุทุจูู ูุชุงุฌุฑ
2. โ ุงุฐูุจ ูููู ุงููุชุฌุฑ
3. โ ุงุฑูุน ุดุนุงุฑ ูุบูุงู ุงููุชุฌุฑ
4. โ ุฃุถู ููุชุฌ ูุน ุตูุฑุฉ
5. โ ุชุญูู ุฃู ุงูููุชุฌ ุธูุฑ ูู ุงููุชุฌุฑ ุงูุตุญูุญ

#### **ูุนููู:**
1. โ ุงูุชุญ ุงูุชุทุจูู ูุนููู
2. โ ุดุงูุฏ ูุงุฆูุฉ ุงููุชุงุฌุฑ (ูุฌุจ ุฃู ุชุฑู ุงูุดุนุงุฑุงุช)
3. โ ุงูุชุญ ูุชุฌุฑ (ูุฌุจ ุฃู ุชุฑู ุงูุบูุงู)
4. โ ุดุงูุฏ ุงูููุชุฌุงุช (ูุฌุจ ุฃู ุชุฑู ุงูุตูุฑ ูุงููููุฉ ุงููุชุงุญุฉ)
5. โ ุฃุถู ููุชุฌุงุช ููุณูุฉ
6. โ ุงุฐูุจ ูู Checkout
7. โ ุฃููู ุงูุทูุจ
8. โ **ูุฌุจ ุฃู ูุนูู ุจูุฌุงุญ!** ๐

---

## ๐ **ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:**

### **โ ูุนูู ุงูุขู:**
- ุฑูุน ุตูุฑ ุงูููุชุฌุงุช ูุงููุชุงุฌุฑ
- ุนุฑุถ ุงูููุชุฌุงุช ุจุดูู ุตุญูุญ
- ุงููุชุงุฌุฑ ุงููุชุนุฏุฏุฉ (ูู ูุชุฌุฑ ููุชุฌุงุชู ููุท)
- ุงูุชุญูู ูู ุงููููุฉ ุงููุชุงุญุฉ
- ุฅูุดุงุก ุงูุทูุจุงุช ุจูุฌุงุญ
- ุฑุณูู ุงูุชูุตูู ุจุงููุณุงูุฉ
- ูุธุงู ุงูุนููุงุช (ุฌุงูุฒ ููุชุทุจูู)

---

## ๐ **ุงูุฅุญุตุงุฆูุงุช:**

| ุงูุนูุตุฑ | ุงูุนุฏุฏ |
|--------|------|
| ูููุงุช SQL ุฌุฏูุฏุฉ | 7 |
| ูููุงุช ููุฏ ูุญุฏุซุฉ | 6 |
| ูุดุงูู ุชู ุญููุง | 10+ |
| ููุฒุงุช ุฌุฏูุฏุฉ | 5 |

---

## ๐ **ุงููุฑุญูุฉ ุงูุชุงููุฉ:**

ุจุนุฏ ุงูุชุฃูุฏ ุฃู ูู ุดูุก ูุนูู:
- ๐ **Push Notifications ููุนููุงุก**
- ๐ฑ **ุชุทุจูู ูุธุงู ุงูุนููุฉ ุงูููุญุฏ**
- ๐จ **ุชุญุณููุงุช UI/UX ุฅุถุงููุฉ**

---

## ๐ **ุงูุฏุนู:**

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:
1. ุชุญูู ูู Supabase Logs
2. ุชุญูู ูู Console ูู ุงูุชุทุจูู
3. ุฑุงุฌุน ุงููููุงุช ูู `docs/`

---

**๐ ุชูุงูููุง! ุชุทุจููู ุฌุงูุฒ ููุงุฎุชุจุงุฑ ุงููุงูู!** ๐
