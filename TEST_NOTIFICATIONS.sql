-- ============================================
-- ุงุฎุชุจุงุฑ ุฌุฏูู notifications
-- ============================================

-- ุงูุฎุทูุฉ 1: ุงูุญุตูู ุนูู user_id ูู ุฃุญุฏ ุงููุณุชุฎุฏููู ุงูููุฌูุฏูู
-- (ุณูุนุฑุถ ูู ูุงุฆูุฉ ุจุงููุณุชุฎุฏููู)
SELECT id, email 
FROM auth.users 
LIMIT 5;

-- ุงูุฎุทูุฉ 2: ุจุนุฏ ุฃู ุชุญุตู ุนูู user_id ูู ุงูุฎุทูุฉ 1ุ ุงุณุชุจุฏูู ููุง
-- ูุซุงู: ุงุณุชุจุฏู 'YOUR-USER-ID-HERE' ุจู user_id ุญูููู

-- ุทุฑููุฉ 1: ุฅุฏุฎุงู ุฅุดุนุงุฑ ุจุงุณุชุฎุฏุงู user_id ูุนูู
INSERT INTO notifications (
  user_id, 
  title, 
  body, 
  type
) VALUES (
  'YOUR-USER-ID-HERE'::uuid,  -- ุงุณุชุจุฏู ูุฐุง ุจู user_id ุญูููู ูู ุงูุฎุทูุฉ 1
  'ูุฑุญุจุงู! ๐',
  'ูุธุงู ุงูุฅุดุนุงุฑุงุช ูุนูู ุจูุฌุงุญ',
  'system'
);

-- ุทุฑููุฉ 2 (ุฃุณูู): ุฅุฏุฎุงู ุฅุดุนุงุฑ ูุฃูู ูุณุชุฎุฏู ูู ุงููุธุงู ุชููุงุฆูุงู
INSERT INTO notifications (
  user_id, 
  title, 
  body, 
  type
) 
SELECT 
  id,
  'ูุฑุญุจุงู! ๐',
  'ูุธุงู ุงูุฅุดุนุงุฑุงุช ูุนูู ุจูุฌุงุญ',
  'system'
FROM auth.users 
LIMIT 1;

-- ุงูุฎุทูุฉ 3: ุนุฑุถ ุงูุฅุดุนุงุฑุงุช
SELECT 
  n.id,
  n.title,
  n.body,
  n.type,
  n.is_read,
  n.created_at,
  u.email as user_email
FROM notifications n
JOIN auth.users u ON u.id = n.user_id
ORDER BY n.created_at DESC
LIMIT 10;

-- โ ุฅุฐุง ุธูุฑุช ุงููุชุงุฆุฌุ ูุงูุฌุฏูู ูุนูู ุจูุฌุงุญ!
